To connnect to the oracle:
-> sys as sysdba

To check version:
select * from v$version

To shutdown:
shutdown

To start:
startup

To show user:
show user

To show database.
select name from v$database


To show plugable database:
	

To get user
select * from dba_users;

To get user name
select username from dba_users;

To start the listener:
ce	


To stop the listener:
lsnrctl stop

To read: Table Space and data files

To get the tablespace

select * from dba_tablespaces;

to get just the table_spaces:
select tablespace_name from dba_tablespaces;


to get the size of the dba_data_Files:
select tablespace_name, file_name, bytes/1024/1024 as size_mb from dba_data_files;

to get the default username of the the user in the table:
select username, default_tablespace from dba_users; 

tomorrow:
make one listner, datafile, 

make a listner:
netca

to start the new listner:
lsnrctl stop

start new Listener:
lsnrctl start LISTNER-NAME

Create new table spaces:
CREATE TABLESPACE tableSpaceName
DATAFILE 'F:\db_home\oradata\ORCL\iamfake.dbf'
SIZE 10M
AUTOEXTEND ON
NEXT 10m
MAXSIZE 50M;

To altered the tablespacs (setting new tablesapce as default)
ALTER DATABASE DEFAULT TABLESPACE iamfake;

Make the system tablespaces as the default:
ALTER DATABASE DEFAULT TABLESPACE SYSTEM;

DElete the tablespace
 DROP TABLESPACE iamfake INCLUDING CONTENTS AND DATAFILES;




note: SIZE 10M -> jati diyo teti spacelincha

---

create user 
aba apile kun kun pluggable database cha tyo herna paryo:
SHOW PDBS;

aba need alter to that PDBS
ALTER PLUGGABLE DATABASE ORCLPDB OPEN;

switch session
ALTER SESSION SET CONTAINER=ORCLPDB;

balla user banaune

CREATE USER iamusera IDENTIFIED BY test123

aba permission dine
GRANT CONNECT, RESOURCE TO iamusera;


verify:
SELECT username FROM dba_users WHERE username = 'iamusera';


for creating user without pda:
SQL> CREATE USER C##iamfakeuser IDENTIFIED BY test123;

User created.


36 rows selected.

SQL> CREATE USER C##iamfakeuser IDENTIFIED BY test123;

User created.

SQL>
SQL> show user;
USER is "SYS"
SQL> CONNECT iamfakeuser;
Enter password:
ERROR:
ORA-01005: null password given; logon denied


Warning: You are no longer connected to ORACLE.
SQL> CONNECT C##iamfakeuser;
Enter password:
ERROR:
ORA-01005: null password given; logon denied


SQL> CONNECT C##iamfakeuser;
Enter password:
ERROR:
ORA-01045: user C##IAMFAKEUSER lacks CREATE SESSION privilege; logon denied


SQL>

we should give privilidge and session

code to give session
Warning: You are no longer connected to ORACLE.
SQL> CONNECT C##iamfakeuser;
Enter password:
ERROR:
ORA-01005: null password given; logon denied


SQL> CONNECT C##iamfakeuser;
Enter password:
ERROR:
ORA-01045: user C##IAMFAKEUSER lacks CREATE SESSION privilege; logon denied


SQL> GRANT CREATE SESSION TO c##iamfakeuser;
SP2-0640: Not connected
SQL> clear
SQL> clear;
SQL> GRANT CONNECT, RESOURCE TO C##iamfakeuser;
SP2-0640: Not connected
SQL> show user;
USER is ""
SQL> CONNECT sys as sysdba
Enter password:
Connected.
SQL> GRANT CREATE SESSION TO c##iamfakeuser;

Grant succeeded.

SQL> CONNECT C##iamfakeuser;
Enter password:
Connected.
SQL> show user;
USER is "C##IAMFAKEUSER"
SQL>

to give privilidge:


Grant succeeded.

SQL> CONNECT C##iamfakeuser;
Enter password:
Connected.
SQL> show user;
USER is "C##IAMFAKEUSER"
SQL> connect sys as sysdba;
Enter password:
Connected.
SQL> show user;
USER is "SYS"
SQL> GRANT CREATE TABLE TO C##iamfakeuser;

Grant succeeded.

SQL> GRANT CREATE VIEW TO C##iamfakeuser;

Grant succeeded.

SQL> connect c##iamfakeuser;
Enter password:
Connected.
SQL> show usewrl
SP2-0158: unknown SHOW option "usewrl"
SQL> show user;
USER is "C##IAMFAKEUSER"
SQL>


SQL> connect c##iamfakeuser;
Enter password:
Connected.
SQL> show user;
USER is "C##IAMFAKEUSER"
SQL> CREATE TABLE student(
  2  id number primary key,
  3  name varchar2(50),
  4  age number,
  5  );
)
*
ERROR at line 5:
ORA-00904: : invalid identifier


SQL> CREATE TABLE student(
  2  id number primary key,
  3  name varchar2(50),
  4  age number
  5  );

Table created.

SQL> show table;
SP2-0158: unknown SHOW option "table"
SQL>



SQL> connect sys as sysdba;
Enter password:
Connected.
SQL> show user;
USER is "SYS"
SQL> ALTER USER C##IAMFAKEUSER QUOTA UNLIMITED ON USERS;

User altered.

SQL> connect c##iamfakeuser;
Enter password:
Connected.
SQL> INSERT INTO student VALUES (1, 'Ram', 20);

1 row created.

Commit complete.
SQL> select * from student;

        ID NAME                                                      AGE
---------- -------------------------------------------------- ----------
         1 Ram                                                        20

SQL>

---- new class --- 

1. create user:
CREATE USER testuser IDENTIFIED BY test123;   
2. GRANT CONNECT, RESOURCE TO testuser;

3. CONNECT testuser/test123;

4. CREATE TABLE employees (
employee id NUMBER PRIMARY KEY,
first_name VARCHAR2(50),
last_name VARCHAR2(50),

5. INSERT INTO employees VALUES (101, 'John', 'Doe', 10);
INSERT INTO employees VALUES (102, "Hari", "Thapa", 20);
COMMIT;

CONCURENCY Check

2 user changing the name
SQL> select sid, type, lmode, request, block
  2  from v$lock where type = 'TX';
  2  frlock where type = 'TX'
  *







